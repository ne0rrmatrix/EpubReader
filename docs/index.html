<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>index.md â€” rendered</title>
  <meta name="theme-color" content="#f8f9fb" id="theme-color-meta">
  <style>
    :root{
      --bg: #f8f9fb;
      --card-bg: #ffffff;
      --text: #111111;
      --muted: #6b7280;
      --code-bg: #0b1220;
      --code-color: #d6deeb;
      --shadow: 0 6px 20px rgba(15,23,42,0.08);
      --radius: 8px;
      --padding: 2rem;
      --max-width: 900px;
    }

    @media (prefers-color-scheme: dark) {
      :root{
        --bg: #071025;
        --card-bg: #071124;
        --text: #e6eef8;
        --muted: #9aa6b2;
        --code-bg: #021026;
        --code-color: #cfe6ff;
        --shadow: 0 6px 20px rgba(0,0,0,0.6);
      }
    }

    html,body{height:100%;}
    body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; margin: 0; padding: var(--padding); background: var(--bg); color: var(--text); }
    .container { max-width: var(--max-width); margin: 0 auto; background: var(--card-bg); padding: var(--padding); box-shadow: var(--shadow); border-radius: var(--radius); }
    pre { background: var(--code-bg); color: var(--code-color); padding:12px; overflow:auto; border-radius:6px }
    img { max-width:100%; height:auto }
    a { color: inherit; }
    .site-footer { margin-top: 1.5rem; text-align: center; font-size: 0.95rem; color: var(--muted); }
    .site-footer a { color: inherit; text-decoration: underline; }
  </style>
</head>
<body>
  <div class="container" id="content">Rendering...</div>

  <div class="site-footer">
    <a href="https://ne0rrmatrix.github.io/EpubReader/privacy.html" target="_blank" rel="noopener noreferrer">Privacy Policy</a>
  </div>

  <textarea id="md" style="display:none"># EpubReader ğŸ“š

<div align="center">

***A versatile and user-friendly EPUB reader/viewer for Windows, Android, iOS, and macOS***

*Enjoy your favorite ebooks with extensive customization options and robust support for various EPUB formats*

[![Quality Gate Status](https://sonarcloud.io/api/project_badges/measure?project=ne0rrmatrix_EpubReader&metric=alert_status)](https://sonarcloud.io/summary/new_code?id=ne0rrmatrix_EpubReader)
[![.NET MAUI](https://img.shields.io/badge/.NET%20MAUI-Cross%20Platform-blue)](https://dotnet.microsoft.com/en-us/apps/maui)
[![License](https://img.shields.io/github/license/ne0rrmatrix/EpubReader)](LICENSE.txt)
[![GitHub stars](https://img.shields.io/github/stars/ne0rrmatrix/EpubReader)](https://github.com/ne0rrmatrix/EpubReader/stargazers)
[![GitHub issues](https://img.shields.io/github/issues/ne0rrmatrix/EpubReader)](https://github.com/ne0rrmatrix/EpubReader/issues)

</div>

---

## ğŸ“‹ Table of Contents

- [âœ¨ Features](#-features)
- [ğŸ“¸ Screenshots](#-screenshots)
- [ğŸš€ Get Started](#-get-started)
- [ğŸ› ï¸ Building from Source](#ï¸-building-from-source)
  - [PowerShell Build Scripts](#powershell-build-scripts)
- [ğŸ”¥ Firebase Setup](#-firebase-setup)
- [ğŸ“¸ Screenshots](#-screenshots)
- [ğŸ› ï¸ Development](#ï¸-development)
- [ğŸ¤ Contributing](#-contributing)
- [ğŸ“„ License](#-license)

---

## âœ¨ Features

### ğŸŒ Cross-Platform Compatibility
Available on **Windows**, **Android**, **iOS**, and **macOS** with native performance on each platform.

### ğŸ“– Reading Customization
- **ğŸ“‘ Chapter & Page Navigation:** Navigate seamlessly through chapters and pages
- **ğŸ¨ Font Customization:** Adjust font family and font size to your preference
- **ğŸ“ Reading Position:** Automatic tracking of reading position when switching between books
- **ğŸ¨ Color Themes:** Various color themes with automatic dark/light mode switching
- **ğŸ“Š Library Sorting:** Sort by title, author, or date (on Calibre Server)

### â˜ï¸ Cloud Sync & Authentication
- **ğŸ” Google Authentication:** Sign in with your Google account for cloud features
- **ğŸ“± Cross-Device Sync:** Reading progress and settings sync across devices in real-time
- **ğŸ”„ Automatic Backup:** Reading progress is automatically backed up to Firebase
- **ğŸ“ Position Tracking:** Resume reading exactly where you left off on any device
- **ğŸ” Offline Queueing:** Progress updates queue locally and reconcile on reconnect
- **ğŸ”’ Local-Only Mode:** Use the app without authentication for complete privacy

- **ğŸ” Privacy:** An in-app privacy policy is available under Settings â†’ Privacy Policy or online: [Privacy Policy](https://ne0rrmatrix.github.io/EpubReader/privacy.html). Cloud sync is optional and must be enabled by the user.

### ğŸ”— Calibre Integration
- **ğŸ” Discovery:** Connect to Calibre Server using **Bonjour** auto-discovery
- **ğŸŒ Manual Connection:** Set Calibre Server URL directly
- **ğŸ“š Library Access:** Navigate your entire Calibre library
- **â¬‡ï¸ Download:** Download EPUB books directly from your server

### ğŸ“š EPUB Support
- **ğŸ“– Format Support:** Full support for **EPUB 2** and **EPUB 3.x** versions
- **ğŸ”§ Compatibility:** Enhanced compatibility for out-of-spec and broken EPUBs
- **ğŸ¯ Reliability:** Most ebooks work seamlessly (minor issues only with extremely malformed files)

### ğŸ¨ Rich Content Display
- **ğŸ–¼ï¸ Images:** Full support for embedded images
- **ğŸ’„ CSS Styling:** Complete CSS styles support within books
- **ğŸ”¤ Fonts:** Full support for fonts embedded within ebooks

### ğŸ”Š Media Overlays (EPUB 3)
- **Audio Playback:** Plays synchronized audio tracks embedded via MediaOverlays
- **SMIL Highlighting:** Highlights text in sync with audio using SMIL files
- **Read-Along Support:** Provides a seamless read-along experience with word/phrase highlighting
- **Granular Controls:** Play/pause and navigation work across chapters with overlays

---

## ğŸ“¸ Screenshots

### Windows

#### ğŸ–¥ï¸ Default Light Mode Theme

<div align="center">
<img width="480" alt="Windows Light Mode Library View" src="https://github.com/user-attachments/assets/cea99531-5f4d-476f-987e-06dabed2029a" />
<img width="480" alt="Windows Light Mode Reading View" src="https://github.com/user-attachments/assets/f87c5feb-f020-42a6-b366-223d259b929f" />
<img width="480" alt="Windows Light Mode Settings" src="https://github.com/user-attachments/assets/6d583793-ee00-4fe0-b264-30dc975784af" />
<img width="480" alt="Windows Light Mode Calibre Connection" src="https://github.com/user-attachments/assets/6c1cedf2-ad1f-4eb9-a9a4-204edc492cb1" />
<img width="480" alt="Windows Light Mode Font Settings" src="https://github.com/user-attachments/assets/e896a905-24be-409f-9825-7c7240bed7d4" />
<img width="480" alt="Windows Light Mode Color Themes" src="https://github.com/user-attachments/assets/bd311d21-2cdf-46d6-bfbf-ae876f962ec7" />
<img width="480" alt="Windows Light Mode Chapter Navigation" src="https://github.com/user-attachments/assets/1d469867-be82-43ca-bfea-01f918c63060" />
</div>

---

#### ğŸŒ™ Dark Mode Theme (Sepia)

<div align="center">
<img width="480" alt="Windows Sepia Theme Library View" src="https://github.com/user-attachments/assets/6dc6caf9-ba8e-4875-b700-64d63ae90d58" />
<img width="480" alt="Windows Sepia Theme Reading View" src="https://github.com/user-attachments/assets/3c83d016-caa4-467d-b509-ec368379baf4" />
<img width="480" alt="Windows Sepia Theme Settings" src="https://github.com/user-attachments/assets/8b6715ba-4fdf-498d-af00-ecaeaed1a6fd" />
<img width="480" alt="Windows Sepia Theme Calibre View" src="https://github.com/user-attachments/assets/28e1c8cb-e701-4baf-b514-3c2fadcfa3df" />
<img width="480" alt="Windows Sepia Theme Font Options" src="https://github.com/user-attachments/assets/de5a2963-75b4-4b9b-b7eb-d7f94c2e1b06" />
<img width="480" alt="Windows Sepia Theme Color Selection" src="https://github.com/user-attachments/assets/d1741667-44e6-4290-8f24-8930d76e7b29" />
<img width="480" alt="Windows Sepia Theme Chapter View" src="https://github.com/user-attachments/assets/3cd7d857-91dd-4dc2-8756-e269e5d357b7" />
</div>

---

### ğŸ“± Android

#### â˜€ï¸ Light Mode (Sepia Theme)

<div align="center">
<img width="240" alt="Android Sepia Library View" src="https://github.com/user-attachments/assets/a65c5247-ea0b-4517-89f9-023cf21c0eb5" />
<img width="240" alt="Android Sepia Reading View" src="https://github.com/user-attachments/assets/68937493-a30e-4437-90fb-34a0a08d0b07" />
<img width="240" alt="Android Sepia Book Details" src="https://github.com/user-attachments/assets/ab925b21-3734-4a9b-997e-17449f38122b" />
<img width="240" alt="Android Sepia Settings" src="https://github.com/user-attachments/assets/e107d0fe-267c-41c1-9918-83d4672ef9b0" />
<img width="240" alt="Android Sepia Font Settings" src="https://github.com/user-attachments/assets/7d4610b5-5ccd-4315-b99a-f016e45fb8a8" />
<img width="240" alt="Android Sepia Color Themes" src="https://github.com/user-attachments/assets/80decdb6-3ae4-4965-a734-615e0e7db2c5" />
<img width="240" alt="Android Sepia Calibre Connection" src="https://github.com/user-attachments/assets/4a7c5895-4876-4580-9c27-5684cc510ca5" />
<img width="240" alt="Android Sepia Chapter Navigation" src="https://github.com/user-attachments/assets/7e282ce0-398e-4d1f-a48d-cbee51e7201c" />
<img width="240" alt="Android Sepia Reading Progress" src="https://github.com/user-attachments/assets/a6d92143-2f4d-4013-874f-8a72e413f2d1" />
</div>

---

#### ğŸŒ™ Dark Mode

<div align="center">
<img width="240" alt="Android Dark Mode Library View" src="https://github.com/user-attachments/assets/a06691eb-ac19-445a-9ee3-1bfa2d2a37a4" />
<img width="240" alt="Android Dark Mode Reading View" src="https://github.com/user-attachments/assets/f70c432a-5af1-4dc7-a282-e6f7e3b946ba" />
<img width="240" alt="Android Dark Mode Book Details" src="https://github.com/user-attachments/assets/6c9bde8a-de68-4e3b-a37a-655fa1e627c2" />
<img width="240" alt="Android Dark Mode Settings" src="https://github.com/user-attachments/assets/1cdcb3ae-2a4f-422d-a725-80bfc8ac6463" />
<img width="240" alt="Android Dark Mode Font Options" src="https://github.com/user-attachments/assets/8f87da66-e216-4f02-a478-727ca9c26808" />
<img width="240" alt="Android Dark Mode Color Themes" src="https://github.com/user-attachments/assets/a6495dba-f8df-45c8-b31f-76460241cc20" />
<img width="240" alt="Android Dark Mode Navigation" src="https://github.com/user-attachments/assets/240e440e-5d8f-4a58-a203-83bdb667bf03" />
</div>

---

## ğŸš€ Getting Started

<div align="center">

### Download Now

<div style="display:flex;gap:1rem;justify-content:center;align-items:center;margin:1rem 0;">
  <a href="https://play.google.com/store/apps/details?id=com.companyname.epubreader" title="Android">
    <img src="assets/android.png" alt="Android" width="160" />
  </a>
  <a href="https://apps.microsoft.com/detail/9n3t9qnkk7vx?hl=en-GB&gl=CA" title="Windows">
    <img src="assets/windows.png" alt="Windows" width="160" />
  </a>
</div>

</div>

---

## ğŸ› ï¸ Building from Source

### Prerequisites

- Visual Studio 2022/2026 or later with .NET MAUI workload (or the .NET SDK + workloads via CLI)
- .NET 10.0 SDK or later
- Platform SDKs: Android SDK (API 34+), Windows App SDK, Xcode (macOS only) for iOS/macOS

### Clone the repository

```bash
git clone https://github.com/ne0rrmatrix/EpubReader.git
cd EpubReader
```

### Restore & build (CLI)

Restore packages and build for a specific target framework (example: Android):

```bash
dotnet restore EpubReader/EpubReader.csproj
dotnet build EpubReader/EpubReader.csproj -f net10.0-android -c Debug
```

For Windows debug build:

```bash
dotnet build EpubReader/EpubReader.csproj -f net10.0-windows10.0.19041.0 -c Debug
```

### PowerShell build scripts

The repository includes helper PowerShell scripts to make builds and signing easier:

- `build.ps1` â€” main build script that supports `-Android`, `-Windows`, `-DebugBuild`, `-ReleaseBuild` and accepts Firebase secrets via parameters, env vars, or `build-secrets` folder.
- `build-from-env.ps1` â€” loads secrets from `.env`/.env.local and runs the build.
- `gen-android-strings.ps1` â€” converts `google-services.json` to Android XML resource strings for signing and embedding.

Example: build Android Debug using local json

```powershell
.\build.ps1 -Android -GoogleJsonPath "build-secrets/google-services.json" -DebugBuild
```

### Using .env files

Create a `.env` or `.env.local` with your Firebase and signing values (gitignored) and run:

```powershell
.\.vscode\build-from-env.ps1
```

### Android signing (release)

Set these environment variables (or add to `.env.local`):

- `ANDROID_KEYSTORE` â€” path to keystore
- `ANDROID_KEYSTORE_PASSWORD` â€” keystore password
- `ANDROID_KEYSTORE_ALIAS` â€” alias
- `ANDROID_KEY_PASSWORD` â€” key password

The scripts will sign artifacts when `ANDROID_KEYSTORE` points to a valid file.

### Troubleshooting

- If `google-services.json` is not found, place it under `build-secrets/google-services.json` or pass `-GoogleJsonPath` to `build.ps1`.
- For package name or SHA mismatches, verify `ApplicationId` in `EpubReader.csproj` and AndroidManifest package attribute match the Firebase app.
- Use `dotnet workload install maui,android,ios,windows` to ensure required workloads are installed.

---
</textarea>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js" integrity="sha384-948ahk4ZmxYVYOc+rxN1H2gM1EJ2Duhp7uHtZ4WSLkV4Vtx5MUqnV+l7u9B+jFv+" crossorigin="anonymous"></script>
  <script>
    (function(){
      const meta = document.getElementById('theme-color-meta');
      function updateThemeColor(){
        const dark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        if(meta) meta.setAttribute('content', dark ? '#071025' : '#f8f9fb');
      }
      updateThemeColor();
      if(window.matchMedia){
        const mq = window.matchMedia('(prefers-color-scheme: dark)');
        if(mq.addEventListener) mq.addEventListener('change', updateThemeColor);
        else if(mq.addListener) mq.addListener(updateThemeColor);
      }
    })();
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', function(){
      const md = document.getElementById('md').value.replace(/\u001F/g,'');
      const content = document.getElementById('content');
      try {
        content.innerHTML = marked.parse(md);
      } catch (e) {
        content.innerHTML = '<pre>' + md.replace(/</g,'&lt;').replace(/>/g,'&gt;') + '</pre>';
        console.error(e);
      }
    });
  </script>
</body>
</html>
